{"version":3,"file":"filter-7075f341.js","sources":["../../src/js/service/refs.js","../../src/js/service/localStorageApi.js","../../src/js/test.js","../../src/js/service/fetchApi.js","../../src/js/filter.js"],"sourcesContent":["export default class {\n  constructor() {\n    //add nodes as attributes\n    const nodes = document.querySelectorAll('.js-object');\n    for (let i = 0; i < nodes.length; i++) {\n      if ('dataset' in nodes[i]) {\n        if ('jsname' in nodes[i].dataset) {\n          this[nodes[i].dataset.jsname] = nodes[i];\n        }\n      }\n    }\n  }\n\n  refresh() {\n    //delete all attributes\n    for (let key in this) {\n      if (key in this) {\n        delete this[key];\n      }\n    }\n    //add nodes as attributes\n    const nodes = document.querySelectorAll('.js-object');\n    for (let i = 0; i < nodes.length; i++) {\n      if ('dataset' in nodes[i]) {\n        if ('jsname' in nodes[i].dataset) {\n          this[nodes[i].dataset.jsname] = nodes[i];\n        }\n      }\n    }\n  }\n}\n","/*\n Simple localStorageApi to save/loade Filter and Cart\n\n\nusing example:\n\nimport localStorageApi from './js/localStorageApi.js';\n\nlocalStorageApi.saveFilter({ keyA: 'A', KeyB: 'B' });\nconst test = localStorageApi.loadFilter();\nconsole.log('test: ', test);\n\nmethods:\n\nlocalStorageApi.saveFilter(filter) - saves filter\n    all properties of filter are optional:\n    filter {\n        keyword : \"string\",\n        category : \"string\",\n        byABC : \"boolean\",\n        page : \"number\",\n        limit : \"number\",}\n\nlocalStorageApi.loadFilter() - returns filter\n\nlocalStorageApi.deleteFilter() - removes filter from storage\n\nlocalStorageApi.saveCart(cart) - saves cart\n  cart {\n    \"email\": \"test@gmail.com\",\n    \"products\": [{\"productId\": \"640c2dd963a319ea671e383b\",\n    \"amount\": 2},...]}\n\nlocalStorageApi.loadCart() - returns cart\n\nlocalStorageApi.deleteCart() - removes cart from storage\n\n\n\n\n*/\n\nexport default {\n  _filterID: 'filter-food_boutique',\n  _cartID: 'cart-food_boutique',\n  _save: function _save(key, data) {\n    try {\n      const jsonData = JSON.stringify(data);\n      localStorage.setItem(key, jsonData);\n    } catch (error) {\n      throw error;\n    }\n  },\n  _load: function _load(key) {\n    try {\n      const jsonData = localStorage.getItem(key);\n      if (jsonData === null) {\n        return {};\n      } else {\n        const data = JSON.parse(jsonData);\n        return data;\n      }\n    } catch (error) {\n      throw error;\n    }\n  },\n  _delete: function _delete(key) {\n    try {\n      localStorage.removeItem(key);\n    } catch (error) {\n      throw error;\n    }\n  },\n  saveFilter: function saveFilter(filter) {\n    this._save(this._filterID, filter);\n  },\n  loadFilter: function loadFilter() {\n    let filter = this._load(this._filterID);\n    return filter;\n  },\n  deleteFilter: function deleteFilter() {\n    this._delete(this._filterID);\n  },\n  saveCart: function saveCart(cart) {\n    this._save(this._cartID, cart);\n  },\n  loadCart: function loadCart() {\n    let cart = this._load(this._cartID);\n    return cart;\n  },\n  deleteCart: function deleteCart() {\n    this._delete(this._cartID);\n  },\n};\n","import refs from './service/refs';\nimport localStorageApi from './service/localStorageApi';\n\nconst tag = new refs();\n\nconsole.log(tag.batman);\n\nlocalStorageApi.saveFilter({ keyA: 'A' });\nconsole.log('test: ', localStorageApi.loadFilter());\nlocalStorageApi.saveFilter({ KeyB: 'B' });\n\nconsole.log('test: ', localStorageApi.loadFilter());\n","\n\nimport axios from 'axios';\n\nexport default {\n  _baseURL: 'https://food-boutique.b.goit.study/api',\n  _categoriesURL: '/products/categories',\n  _productsURL: '/products',\n  _popularURL: '/products/popular',\n  _discountURL: '/products/discount',\n  _subscriptionURL: '/subscription',\n  _orderURL: '/orders',\n\n  categories: async function categories() {\n    try {\n      const result = await axios.get(this._baseURL + this._categoriesURL);\n      return result.data;\n    } catch (error) {\n      throw error;\n    }\n  },\n\n  popular: async function popular() {\n    try {\n      const result = await axios.get(this._baseURL + this._popularURL);\n      return result.data;\n    } catch (error) {\n      throw error;\n    }\n  },\n\n  discount: async function discount() {\n    try {\n      const result = await axios.get(this._baseURL + this._discountURL);\n      return result.data;\n    } catch (error) {\n      throw error;\n    }\n  },\n\n  product: async function product(id) {\n    try {\n      const result = await axios.get(\n        this._baseURL + this._productsURL + `/${id}`\n      );\n      return result.data;\n    } catch (error) {\n      throw error;\n    }\n  },\n\n  products: async function products(filter = {}) {\n    try {\n      const params = {\n        params: filter,\n      };\n      const result = await axios.get(this._baseURL + this._productsURL, params);\n      return result.data;\n    } catch (error) {\n      throw error;\n    }\n  },\n\n  subscribe: async function subscribe(email) {\n    try {\n      const params = {\n        email: email,\n      };\n      const result = await axios.post(\n        this._baseURL + this._subscriptionURL,\n        params\n      );\n      return result;\n    } catch (error) {\n      throw error;\n    }\n  },\n\n  order: async function order(cart) {\n    try {\n      const result = await axios.post(this._baseURL + this._orderURL, cart);\n      return result.data;\n    } catch (error) {\n      throw error;\n    }\n  },\n};\n","import fetchApi from './service/fetchApi';\nimport SlimSelect from 'slim-select';\nimport '../../node_modules/slim-select/dist/slimselect.css';\nimport '../css/components/filter.css';\n\nconst categories = document.getElementById('category');\nconsole.log(categories);\n\nfetchApi\n  .categories()\n  .then(data => {\n    console.log(data);\n\n    categories.insertAdjacentHTML('afterbegin', markupFilter(data));\n    new SlimSelect({\n      select: '#category',\n      settings: {\n        showSearch: false,\n        openPosition: 'down',\n        placeholderText: 'Categories',\n      },\n    });\n  })\n  .catch(error => console.log(error));\n\nfunction markupFilter(params) {\n  return params\n    .map(category => `<option value=\"${category}\">${category}</option>`)\n    .join('');\n}\n"],"names":["refs","nodes","i","key","localStorageApi","data","jsonData","error","filter","cart","tag","fetchApi","axios","id","params","email","categories","markupFilter","SlimSelect","category"],"mappings":"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"}