{"version":3,"file":"index-10154ae7.js","sources":["../../src/js/service/fetchApi.js","../../src/js/filter.js","../../src/js/service/pagination.js","../../src/img/icons.svg","../../src/js/cards.js","../../src/js/render_cart-list.js","../../src/js/renderPopular.js","../../src/js/renderDiscount.js","../../src/index.js"],"sourcesContent":["import axios from 'axios';\n\nexport default {\n  _baseURL: 'https://food-boutique.b.goit.study/api',\n  _categoriesURL: '/products/categories',\n  _productsURL: '/products',\n  _popularURL: '/products/popular',\n  _discountURL: '/products/discount',\n  _subscriptionURL: '/subscription',\n  _orderURL: '/orders',\n\n  categories: async function categories() {\n    try {\n      const result = await axios.get(this._baseURL + this._categoriesURL);\n      return result.data;\n    } catch (error) {\n      throw error;\n    }\n  },\n\n  popular: async function popular() {\n    try {\n      const result = await axios.get(this._baseURL + this._popularURL);\n      return result.data;\n    } catch (error) {\n      throw error;\n    }\n  },\n\n  discount: async function discount() {\n    try {\n      const result = await axios.get(this._baseURL + this._discountURL);\n      return result.data;\n    } catch (error) {\n      throw error;\n    }\n  },\n\n  product: async function product(id) {\n    try {\n      const result = await axios.get(\n        this._baseURL + this._productsURL + `/${id}`\n      );\n      return result.data;\n    } catch (error) {\n      throw error;\n    }\n  },\n\n  products: async function products(filter = {}) {\n    try {\n      const params = {\n        params: filter,\n      };\n      const result = await axios.get(this._baseURL + this._productsURL, params);\n      return result.data;\n    } catch (error) {\n      throw error;\n    }\n  },\n\n  subscribe: async function subscribe(email) {\n    try {\n      const params = {\n        email: email,\n      };\n      const result = await axios.post(\n        this._baseURL + this._subscriptionURL,\n        params\n      );\n      return result;\n    } catch (error) {\n      throw error;\n    }\n  },\n\n  order: async function order(cart) {\n    try {\n      const result = await axios.post(this._baseURL + this._orderURL, cart);\n      return result.data;\n    } catch (error) {\n      throw error;\n    }\n  },\n};\n","import fetchApi from './service/fetchApi';\nimport SlimSelect from 'slim-select';\n\nconst categories = document.getElementById('category');\n\nexport default async function category() {\n  await fetchApi\n    .categories()\n    .then(data => {\n      categories.insertAdjacentHTML('afterbegin', markupFilter(data));\n      new SlimSelect({\n        select: '#category',\n        settings: {\n          showSearch: false,\n          openPosition: 'down',\n          placeholderText: 'Categories',\n        },\n      });\n    })\n    .catch(error => console.log(error));\n}\n\nfunction markupFilter(params) {\n  return params\n    .map(category => `<option value=\"${category}\">${category}</option>`)\n    .join('');\n}\n","import Pagination from 'tui-pagination';\nimport 'tui-pagination/dist/tui-pagination.css';\n\nexport default async function paginy({ perPage, totalPages, page }) {\n  const options = {\n    totalItems: totalPages * perPage,\n    itemsPerPage: perPage,\n    visiblePages: 5,\n    page: page,\n    centerAlign: true,\n\n    // template: {\n    //   page: '<a href=\"#\" class=\"tui-page-btn\">{{page}}</a>',\n    //   currentPage:\n    //     '<strong class=\"tui-page-btn tui-is-selected\">{{page}}</strong>',\n    //   moveButton:\n    //     '<a href=\"#\" class=\"tui-page-btn tui-{{type}}\">' +\n    //     '<span class=\"tui-ico-{{type}}\">{{type}}</span>' +\n    //     '</a>',\n    //   disabledMoveButton:\n    //     '<span class=\"tui-page-btn tui-is-disabled tui-{{type}}\">' +\n    //     '<span class=\"tui-ico-{{type}}\">{{type}}</span>' +\n    //     '</span>',\n    //   moreButton:\n    //     '<a href=\"#\" class=\"tui-page-btn tui-{{type}}-is-ellip\">' +\n    //     '<span class=\"tui-ico-ellip\">...</span>' +\n    //     '</a>',\n    // },\n  };\n\n  const pagination = await new Pagination('pagination', options);\n}\n","export default \"__VITE_ASSET__5a88835a__\"","import icon from '/img/icons.svg';\n\nexport default {\n  mainCard: function mainCard(data) {\n    const list = data\n      .map(\n        ({\n          category,\n          img,\n          name,\n          popularity,\n          price,\n          size,\n          _id,\n          is10PercentOff,\n        }) => `\n                <li class=\"card__item js-object\" id=\"${_id}\" data-productId=\"${_id}\">\n                  <div class=\"card__wrap\">\n                    <div class=\"card__image-wrap\">\n                      <img src=\"${img}\" alt=\"${name}\" class=\"card__image\" />\n                    </div>\n                    <h2 class=\"card__title\">${name}</h2>\n                    <div class=\"card__description\">\n                      <p class=\"card__text\">\n                        Category: <span class=\"card__accent\">${category}</span>\n                      </p>\n                      <p class=\"card__text\">Size: <span class=\"card__accent\">${size}</span></p>\n                      <p class=\"card__text\">\n                        Popularity: <span class=\"card__accent\">${popularity}</span>\n                      </p>\n                    </div>\n                    <div class=\"card__order\">\n                      <p class=\"curd__price\">$${price}</p>\n                      <button\n                        id=\"${_id}\"\n                        class=\"card__btn js-btn-buy js-object\"\n                        data-jsname=\"buy${_id}\"\n                        type=\"button\"\n                      >\n                        <svg class=\"card__icon js-btn\">\n                          <use class=\"js-btn\" href=\"${icon}#discount-cart\"></use>\n                        </svg>\n                      </button>\n                      <button\n                        id=\"${_id}\"\n                        class=\"card__btn js-btn-check js-object\"\n                        data-jsname=\"check${_id}\"\n                        type=\"button\"\n                      >\n                        <svg class=\"card__icon card__icon--checked js-btn\">\n                          <use class=\"js-btn\" href=\"${icon}#check-mark-icon\"></use>\n                        </svg>\n                      </button>\n                       \n                    </div>\n                  </div>\n                </li>\n                `\n      )\n      .join('');\n\n    return list;\n  },\n\n  popularCard: function popularCard(data) {\n    const list = data\n      .map(\n        ({ _id, img, name, category, size, popularity }) => ` \n        <li class =\"card__item\" data-productid=\"${_id}\" >\n            <div id =\"${_id}\" class=\"card\">\n                  <div class=\"card__image-wrap\">\n                        <img class = \"card__image\" src=\"${img}\" alt=\"${name}\" loading=\"lazy\" />\n                  </div>\n                \n                <div class=\"card__description\">\n                        <h3 class=\"card__title\">${name}</h3>      \n                        <p class=\"card__text card__description-category\">\n                            Category: <span class=\"card__accent\"> ${category}</span>\n                        </p>\n                        <div class=\"card__description-info\">\n                            <p class=\"card__text\">\n                                Size: <span class=\"card__accent\"> ${size}</span>\n                            </p>\n                            <p class=\"card__text\">\n                                Popularity: <span class=\"card__accent\"> ${popularity}</span>\n                            </p>\n                        </div>\n                   </div>\n                    <button\n                        id=\"${_id}\"\n                        class=\"card__btn js-btn-buy js-object\"\n                        data-jsname=\"buy${_id}\"\n                        type=\"button\"\n                      >\n                        <svg class=\"card__icon\">\n                          <use class=\"js-btn\" href=\"${icon}#discount-cart\"></use>\n                        </svg>\n                      </button>\n                      <button\n                        id=\"${_id}\"\n                        class=\"card__btn js-btn-check js-object\"\n                        data-jsname=\"check${_id}\"\n                        type=\"button\"\n                      >\n                        <svg class=\"card__icon card__icon--checked js-btn\">\n                          <use class=\"js-btn\" href=\"${icon}#check-mark-icon\"></use>\n                        </svg>\n                      </button>\n                        </div> \n                   </li>`\n      )\n      .join('');\n    return list;\n  },\n\n  dicountCard: function discountCard(data) {\n    const DISCOUNTNUMBER = 2;\n\n    let i = 0;\n\n    if (data.length < DISCOUNTNUMBER) {\n      i = data.length;\n    } else {\n      i = DISCOUNTNUMBER;\n    }\n    const productsList = [];\n\n    let firstProduct = Math.floor(Math.random() * data.length);\n    let secondProduct = firstProduct - 1;\n\n    productsList.push(data[firstProduct], data[secondProduct]);\n\n    const list = productsList\n      .map(\n        ({ _id, img, name, price }) => `\n                                <li class=\"card__item\" data-productId=\"${_id}\">\n                                  <div id=\"${_id}\" class=\"card\">\n                                    <div class=\"card__image-wrap\">\n                                      <img\n                                        class=\"card__image\"\n                                        src=\"${img}\"\n                                        alt=\"${name}\"\n                                        data-productId=\"${_id}\"\n                                        loading=\"lazy\"\n                                      />\n                                    </div>\n\n                                    <div class=\"card__description\" data-productId=\"${_id}\">\n                                      <h3 class=\"card__description-title\">${name}</h3>\n                                      <div class=\"card__order\" data-productId=\"${_id}\">\n                                        <span class=\"discount-price\" data-productId=\"${_id}\"> $${price} </span>\n                                        <button\n                                          id=\"${_id}\"\n                                          class=\"card__btn js-btn-buy js-object\"\n                                          data-jsname=\"buy${_id}\"\n                                          type=\"button\"\n                                        >\n                                          <svg class=\"card__icon\">\n                                            <use class=\"js-btn\" href=\"${icon}#discount-cart\"></use>\n                                          </svg>\n                                        </button>\n                                        <button\n                                          id=\"${_id}\"\n                                          class=\"card__btn js-btn-check js-object\"\n                                          data-jsname=\"check${_id}\"\n                                          type=\"button\"\n                                        >\n                                          <svg class=\"card__icon card__icon--checked js-btn\">\n                                            <use class=\"js-btn\" href=\"${icon}#check-mark-icon\"></use>\n                                          </svg>\n                                        </button>\n                                      </div>\n                                    </div>\n                                  </div>\n                                </li>\n            `\n      )\n      .join('');\n\n    return list;\n  },\n\n  checkBtn: function checkBtn(data) {\n    return data.map(product => {\n      const item = document.querySelector(`[data-jsname=check${product._id}]`);\n      if (!item) {\n        return;\n      }\n      item.style.display = 'none';\n    });\n  },\n};\n","import fetchApi from './service/fetchApi';\nimport paginy from './service/pagination';\nimport cards from './cards';\n\nconst cardList = document.querySelector('.filter__card-list');\nconst filter = document.querySelector('.filter__full');\nconst cardListEmty = document.querySelector('.filter__empty');\n\nlet limit = 6;\n\nexport default async function getProducts(params) {\n  if (screen.width >= 768) {\n    limit = 8;\n  }\n  if (screen.width >= 1440) {\n    limit = 9;\n  }\n\n  await fetchApi\n    .products({ limit: limit, params })\n    .then(data => {\n      if (!data) {\n        filter.style.display = 'none';\n        cardListEmty.style.display = 'block';\n      }\n\n      filter.style.display = 'block';\n      cardListEmty.style.display = 'none';\n\n      cardList.innerHTML = cards.mainCard(data.results);\n\n      cards.checkBtn(data.results);\n\n      return paginy(data);\n    })\n    .catch(error => console.log(error));\n}\n","import fetchApi from './service/fetchApi';\nimport cards from './cards';\n\nconst popularList = document.querySelector('.popular__list');\nconst popular = document.querySelector('.popular');\n\nexport default async function getPopular() {\n  await fetchApi\n    .popular()\n    .then(data => {\n      if (!data) {\n        popular.style.display = 'none';\n      }\n\n      popular.style.display = 'block';\n\n      popularList.innerHTML = cards.popularCard(data);\n\n      cards.checkBtn(data);\n\n      return;\n    })\n    .catch(error => {\n      return console.log(error), (popular.style.display = 'none');\n    });\n}\n","import fetchApi from './service/fetchApi';\nimport cards from './cards';\n\nconst discountList = document.querySelector('.discount__list');\nconst discount = document.querySelector('.discount');\n\nexport default async function getDiscount() {\n  await fetchApi\n    .discount()\n    .then(data => {\n      if (!data) {\n        discount.style.display = 'none';\n      }\n\n      discount.style.display = 'block';\n\n      discountList.innerHTML = cards.dicountCard(data);\n\n      cards.checkBtn(data);\n\n      return;\n    })\n    .catch(error => {\n      return console.log(error), (discount.style.display = 'none');\n    });\n}\n","import category from './js/filter';\nimport getProducts from './js/render_cart-list';\nimport getPopular from './js/renderPopular';\nimport getDiscount from './js/renderDiscount';\nimport './js/test';\n\ncategory();\n\ngetProducts();\n\ngetPopular();\n\ngetDiscount();\n"],"names":["fetchApi","axios","error","id","filter","params","email","cart","categories","category","data","markupFilter","SlimSelect","paginy","perPage","totalPages","page","options","Pagination","icon","cards","img","name","popularity","price","size","_id","is10PercentOff","productsList","firstProduct","secondProduct","product","item","cardList","cardListEmty","limit","getProducts","popularList","popular","getPopular","discountList","discount","getDiscount"],"mappings":"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"}